name: ceph-base
series: focal
default-base: ubuntu@20.04/stable
applications:
  ceph-mon:
    charm: ceph-mon
    channel: octopus/stable
    num_units: 3
    to:
      - lxd:0  
      - lxd:1 
      - lxd:2  
    options:
      expected-osd-count: 6
      monitor-count: 3
  ceph-osd:
    charm: ceph-osd
    channel: octopus/stable
    num_units: 3
    to:
      - "0"
      - "1"
      - "2"
    options:
      osd-devices: "/dev/sdb,/dev/sdc"  # Specify the OSD devices here
  ceph-radosgw:
    charm: ceph-radosgw
    channel: octopus/stable
    num_units: 1
    to:
      - lxd:0  
machines:
  "0":
    constraints: tags=compute
  "1":
    constraints: tags=compute
  "2":
    constraints: tags=compute
relations:
  - - ceph-osd:mon
    - ceph-mon:osd
  - - ceph-radosgw:mon
    - ceph-mon:radosgw


